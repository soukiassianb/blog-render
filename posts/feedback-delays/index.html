<!DOCTYPE html>





<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  
    
    Feedback Delays
  
 | Ben&#39;s Thoughts</title>



<link rel="stylesheet" href="/book.min.3a2acf521a6968e306e5f8700171b9955473d9af3c0ef8f26ea33567d87de25f.css">


<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.4.0/jquery.fancybox.min.js"></script>



<link rel="icon" href="/favicon.png" type="image/x-icon">


<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body>
  <input type="checkbox" style="display: none" id="menu-control" />
  <main class="flex container">

    <aside class="book-menu fixed">
      <nav>

<br>
<a href="http://soukia.be/"><img src="http://soukia.be//img/ben.png" height="80" style="opacity: 0.8" alt="ben"></a>
<br>




<br>
<h3>Posts ‚úçÔ∏è</h3>

    

  
  






  
    

  <ul>
    
    
    <li>
      

  <a href="/posts/complexity-traps/" >
    
  
    
    Complexity Traps
  

  </a>


    </li>
    
    <li>
      

  <a href="/posts/feedback-delays/"  class="active">
    
  
    
    Feedback Delays
  

  </a>


    </li>
    
    <li>
      

  <a href="/posts/forces-of-progress/" >
    
  
    
    Forces of Progress
  

  </a>


    </li>
    
  </ul>


  










<br>



<h3>More üåê</h3>
<ul>
  <li><a href="/posts/photography/">Photography</a></li>
  <li><a href="https://twitter.com/soukiassianb">Twitter</a></li>
</ul>


</nav>



    </aside>

    <div class="book-page">
      <header class="align-center justify-between book-header">
  <label for="menu-control">
    <img src="/svg/menu.svg" alt="Menu" />
  </label>
  <strong>
  
    
    Feedback Delays
  
</strong>
</header>

      
<article class="markdown">

<h1 id="feedback-delays-the-surprising-link-between-faucet-design-and-machine-learning">Feedback delays : the surprising link between faucet design and Machine Learning.</h1>

<p>Thinking in Systems by Donella Meadows is a great introduction to the discipline of system modeling and analysis. One of the chapters of the book explains how <em>feedback delays</em> in a system with balancing loops can cause systems to oscillate before stabilizing closer to their desired state.</p>

<p>I know this might sound like gibberish if you are foreign to system modeling, but this is actually a simple and powerful idea with many real-world application, one of which you‚Äôve probably experienced yourself more than once.</p>

<p>Picture a traditional faucet, with warm and cold taps on each side:</p>

<p><img src="https://cdn-images-1.medium.com/max/4626/1*qauTggaFQ4sC1WT1LQkOmA.png" alt="" /></p>

<p>This faucet will be our central example, our <em>system</em>.  The <em>desired state</em> to which we‚Äôd like to bring our faucet is lukewarm water, around 38¬∞C (which, since you asked, is the <a href="https://dmna.ny.gov/foodservice/docs/toolbox/proper_handwashing.pdf">recommended temperature¬†</a>for hand washing, even though studies have shown that hot water is as effective as cold to get rid of bacterias).</p>

<p>That‚Äôs easy, right? We‚Äôll just turn the taps until the water reaches our desired temperature.</p>

<p>Let‚Äôs add a twist: like the faucet at your grandma‚Äôs house, every time you turn the tap, there will be a three seconds delay before you are able to feel the changing water temperature.</p>

<p>As you might be guessing, adding a delay will lead you into ‚Äúovershooting‚Äù or ‚Äúundershooting‚Äù your tap turns: water will first get too hot then too cold before you are able to stabilize it around the desired temperature.</p>

<p><img src="https://cdn-images-1.medium.com/max/4626/1*2dxBBY1rtbfQoNrWn1hyZQ.png" alt="" /></p>

<p>The oscillation of our faucet between hot and cold is, one might say, relatively inoffensive. We run the risk of a light warm water burn, but that‚Äôs not something to fuss about.</p>

<p>The thing is, systems similar to our faucet, with balancing loops and feedback delays are everywhere, with much more dramatic implications.</p>

<p>One example is economic policy, which because of important delays ‚Äî often years ‚Äî between the implementation of a policy, and measured results, lead politicians to ‚Äúoscillate‚Äù on a liberal to conservative economic policy spectrum.</p>

<p>In my own work line, where we build products and try to reach <a href="https://pmarchive.com/guide_to_startups_part4.html">product-market fit</a>, we have to take risks and mobilize resources early, often with low visibility and important delays before we can measure any sign of success.</p>

<p>The complexity of building a product that reaches product-market fit peaks when both the product and the market needs to be defined, it‚Äôs like turning the faucet taps to reach a target temperature that changes as you go. It‚Äôs hard.</p>

<p>Another, more dramatic feedback delay you may sometimes think about is the way we treat our body and health. Our body is an incredibly resilient system, especially in the short term, but over time, having detrimental lifestyle habits, like eating junk food ‚Äî thus overshooting calorie or sugar intake consistently ‚Äî might get you into an unintended feedback loop, one which might end up giving you diabetes, or a heart attack.</p>

<p>But let‚Äôs go back to a less dramatic system, our faucet. And to get a better understanding of what caused the water temperature to oscillate, let‚Äôs travel to the world of Machine Learning.</p>

<h2 id="going-down-the-slope">Going down the slope</h2>

<p>If you think about it, another ‚Äî  more abstract ‚Äî  way of describing what we were trying to do with our faucet is to reduce (in data linguo, <em>minimize</em>)¬†the difference between the current faucet temperature, and our target, 38¬∞C.</p>

<p>Since there was no way to aim precisely our tap turn beforehand, the only feedback we had was the actual water temperature, so we had to start turning and figure it out on the go.</p>

<p>This is called an <em>optimization</em> problem, and in this regard, we can learn from Machine Learning, especially from an algorithm called <em>Gradient Descent</em>.</p>

<p>Gradient Descent is one of the simplest, most popular algorithms in machine learning. What it basically does is that it tries to <em>minimize a cost function</em>.</p>

<p>The cost function describes the distance from the true prediction. In our case, it‚Äôs the absolute difference between the actual temperature of the water and the temperature we are aiming for.</p>

<p>By minimizing, it is meant that the algorithm will iterate over different parameters until it reaches the lowest possible value for the cost function. To keep our faucet example, it will keep trying different tap turns combinations until it reaches the closest value to 38¬∞C possible.</p>

<p><img src="https://cdn-images-1.medium.com/max/4626/1*Y3Vd_aiT9WKtVMBdV3aXsw.png" alt="" /></p>

<p>One of the parameters of the algorithm is the <em>learning rate</em>, it describes the size of the step the algorithm takes, at each iteration. In our case, how much we turn the faucet taps.</p>

<p>If the rate is low, the algorithm is more reliable, but it also takes a lot more time to minimize the cost function.</p>

<p>If on the contrary, the rate is high, the algorithm may not find the minimum, overshooting at each iteration.</p>

<p><img src="https://cdn-images-1.medium.com/max/4626/1*gcB3iZygNH10rw6UkIRJwQ.png" alt="" /></p>

<p>How can we pick the best learning rate? Knowing the pros and cons of small and big rates, one would tend towards picking a relatively small one.</p>

<p>This strategy would play well with simple systems such as our faucet, but issues could arise with more complex systems with <em>local minimums</em>.</p>

<p>Local minimums can be thought of as an illusion of the best solution. While there is only one way to get our faucet to run hot water, there are several economic policies that could reduce unemployment, for instance lowering corporate taxes, providing investment subsidies, providing training or even lowering the minimum wage.</p>

<p><img src="https://cdn-images-1.medium.com/max/4626/1*vZJINPnm7vkiaNzI4zOXww.png" alt="" /></p>

<p>By picking a small learning rate, we run the risk of getting trapped into a local minimum, while a <em>global minimum</em> (i.e. the best policy), exists elsewhere, waiting to be discovered.</p>

<h3 id="how-can-we-avoid-local-minimums">How can we avoid local minimums?</h3>

<p>One strategy to avoid local minimums is called <em>learning rate decay</em>.¬†What it basically does is start with a big learning rate, then decreases it as it gets closer to the cost function minimum, to avoid both getting trapped in a local minimum and overshooting as it gets closer to the global minimum.</p>

<p>What‚Äôs funny is that it‚Äôs actually close to our natural behavior when we use a faucet: we first turn the taps quite a lot, then adjust with smaller and smaller movements as we get temperature feedback. Next time you turn on the faucet to wash your hands, think about it, you‚Äôre doing Gradient Descent with Learning Rate Decay!</p>

<h2 id="the-issue-with-feedback-delays">The issue with feedback delays</h2>

<p>Machine learning algorithms don‚Äôt have <em>feedback delays</em> as we do in the real world. The issue with real world feedback delays is that they unconsciously lead us to <strong>keep acting as we‚Äôre not seeing anything changing</strong>. In other words, delays unintentionally lead us to consistently <em>overshoot</em> by picking a learning rate that is too high.</p>

<p>We keep turning the faucet, we keep eating junk, we keep shipping new features, we keep implementing new policies, and when we realize we overshot, we go full speed in the opposite direction in an effort to stabilize the system.</p>

<h3 id="why-do-we-get-so-blind-to-aim-correctly">Why do we get so blind to aim correctly?</h3>

<p>First of all, we may not be aware of the existence or a delay, or we may forget that it‚Äôs here. <strong>For systems from which we get continuous data points ‚Äî despite the delay ‚Äî it‚Äôs easy to get caught up in seeing short-term causal links</strong>, while what we‚Äôre actually looking at is the product of an older feedback loop. Politicians do this all the time. They love getting the praise when economic indicators are green even though it‚Äôs actually their predecessors work that is showing effect.</p>

<p>The second reason we get blind is that we are biased toward action. Our mind tend to correlate action with progress, even when we‚Äôre making things worse. We can‚Äôt bear the idea of sitting still, waiting for the feedback to come, so we keep acting, and in the process we overshoot.</p>

<h2 id="how-can-we-avoid-the-delay-trap">How can we avoid the delay trap ?</h2>

<h3 id="measure-things-correctly">Measure things correctly</h3>

<p>There are a few ways to prevent blindness: the first one is making sure you measure things correctly thanks to the right <em>cost function</em>. In other words, that <strong>the feedback you are getting is the trustful product of your action</strong>. In real-world multi-dimensional systems, such as the economy, it‚Äôs really hard.</p>

<p>In product management, <em>A/B tests</em> (testing one or several version of a feature to user subgroups, and measuring effects compared to a control group) is a useful tool to minimize risks and delays while isolating the impact of a specific action.</p>

<p>One other way to lower the risks of mis-measuring is to take more radical steps (i.e. pick a high learning rate). In real world systems, where the feedback you get can be noisy (like user feedback on a new feature), taking radical steps helps separating the signal from the noise, whether positive or negative. For actions that are reversible, it can accelerate both the pace and quality of learning, even if it has to be balanced with the risk of overshooting.</p>

<h3 id="keep-the-delays-short">Keep the delays short</h3>

<p>The second way is, to <strong>reduce as much as possible the delay between action and feedback</strong>, which can help stabilize the system. In many real-world systems, there are actually two delays: the time it takes to act and the time it takes the feedback to loop to come back to us. For instance, how fast we turn the faucet, then how fast the temperature changes. We often have more control over the former than the latter.</p>

<p>Scientists, engineers, and startup founders have all developed work methodologies (respectively: the scientific method, agile software development, and lean startup) that try to reduce feedback delays by promoting an approach based on fast iterations rather than long development or study cycles.</p>
</article>

      

      
    </div>

    
  

  <aside class="book-toc level-true fixed">
    <nav id="TableOfContents">
<ul>
<li><a href="#feedback-delays-the-surprising-link-between-faucet-design-and-machine-learning">Feedback delays : the surprising link between faucet design and Machine Learning.</a>
<ul>
<li><a href="#going-down-the-slope">Going down the slope</a>
<ul>
<li><a href="#how-can-we-avoid-local-minimums">How can we avoid local minimums?</a></li>
</ul></li>
<li><a href="#the-issue-with-feedback-delays">The issue with feedback delays</a>
<ul>
<li><a href="#why-do-we-get-so-blind-to-aim-correctly">Why do we get so blind to aim correctly?</a></li>
</ul></li>
<li><a href="#how-can-we-avoid-the-delay-trap">How can we avoid the delay trap ?</a>
<ul>
<li><a href="#measure-things-correctly">Measure things correctly</a></li>
<li><a href="#keep-the-delays-short">Keep the delays short</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
  </aside>



  </main>
  
  
  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-151421317-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</body>

</html>
